<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="">
        <p>nom</p>
        <input type="text" name="nom" id="nom">

        <p>adresse</p>
        <input type="text" name="adresse" id="adresse">

        <p>email</p>
        <input type="email" name="email" id="email">

        <p>sujet</p>
        <input type="text" name="sujet" id="sujet">
        
        <br><br><br>
        
        <label for="truc">Choix</label>
        <select name="truc " id="">
            <option value="Smart building">Smart building</option>
            <option value="Energy Management">Energy Management</option>
            <option value="Ontology">Ontology</option>
            <option value="Micro Grid">Micro Grid</option>
            <option value="Other">Other</option>
        </select>


        <p id="random"></p>
        <p id="compteur"></p>
        <p id="affichage"></p>


        <!-- <p id="truc">Verifier</p> -->

        <input type="text" id="aVerif">

        <input type="button" value="Verifier" onclick="verif()">

        <br><br><br>

        <input type="button" value="Envoyer" onclick="envoyer()">

        <h1 id="erreur" style="color: red;"></h1>

    </form>

    <script>
        var compteur = 0;

        document.onload = document.getElementById("random").innerHTML = Math.floor(Math.random() * (99999 - 10000) + 10000);
        

        // document.getElementById("affichage").innerHTML = navigator.userAgent;

        if(navigator.language != "fr-FR"){
            document.location.href="https://google.com"; 
        }

        //si l'utilisateur utilise pas brave chrome on le redirige vers google.com
        else if(navigator.userAgent != "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36" && navigator.userAgent !=  "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36"){
            document.location.href="https://google.com"; 
        }

        function verif(){
            var aVerif = document.getElementById("aVerif").value;
            var random = document.getElementById("random").textContent;

            document.getElementById("compteur").innerHTML = compteur;

            if(aVerif == random){
                alert("Bravo");

            }
            else if(aVerif > random){
                alert("Trop grand");
                compteur +=1;
                if(compteur == 5){
                    document.location.href="https://google.com"; 
                }
            }
            else if(aVerif < random){
                alert("Trop petit");
                compteur +=1;
                if(compteur == 5){
                    document.location.href="https://google.com"; 
                }
            }

        }
        
        function envoyer(){
            
            var nom = document.getElementById("nom").value;
            var adresse = document.getElementById("adresse").value;
            var email = document.getElementById("email").value;
            var sujet = document.getElementById("sujet").value;

            if (nom == ""){
                document.getElementById("erreur").innerHTML = "Veuillez remplir le champ nom";
            }

            else if (adresse == ""){
                document.getElementById("erreur").innerHTML = "Veuillez remplir le champ adresse";
            }

            else if (email == ""){
                document.getElementById("erreur").innerHTML = "Veuillez remplir le champ email";
            }

            else if (sujet == ""){
                document.getElementById("erreur").innerHTML = "Veuillez remplir le champ sujet";
            }

            else{
                document.getElementById("erreur").innerHTML = "";
                alert("Votre message a bien été envoyé");
            }
        }


            // else if (adresse == ""){
            //     document.getElementById("erreur").innerHTML = "Veuillez remplir le champ adresse";
            // }

            // else if (email == ""){
            //     document.getElementById("erreur").innerHTML = "Veuillez remplir le champ email";
            // }

            // else if (sujet == ""){
            //     document.getElementById("erreur").innerHTML = "Veuillez remplir le champ sujet";
            // }

            // else if (truc == ""){
            //     document.getElementById("erreur").innerHTML = "Veuillez sélectionner un choix";
            // }
            // else{
            //     document.getElementById("erreur").innerHTML = "";
            //     alert("Votre message a bien été envoyé");
            
        
        
    </script>

</body>
</html>
